<div class="center-flex">
  <h1 class="font-bold text-4xl text-slate-100">Cart</h1>
</div>

<div class="p-3"></div>

<% if @cart_products.empty? %>
  <div class="m-8">
    <h1 class="text-white text-center"> Your cart is empty. Go fill it :) </h1>
  </div>
<% end %>

<div class="center-grid">
    <% @cart_products.each do |cart_prod| %>
      <div class="element-card">
        <div class="bg-stone-600 rounded-tl-lg hover:rounded-tr-3xl">
          <div class="p-3 gif"></div>
        </div>
        <div class="px-5 pb-5">
          <a href="#">
            <h5 class="text-xl font-semibold tracking-tight text-gray-900 dark:text-white"> <%= cart_prod.name %></h5>
            <h7 class="text-l font-semibold tracking-tight text-gray-900 dark:text-white"> <%= cart_prod.description %></h7>
          </a>

          <div class="mt-3">
            <span class="text-3xl font-bold text-gray-900 dark:text-white"> <%= cart_prod.price %>â‚¬</span>

              <%= button_to "Remove from cart", destroy_cart_product_path(cart_prod), method: :delete,
                class: 'button-underline' %>
          </div>
        </div>
      </div>
      <% end %>
</div>

<div class="p-3"></div>
<% if @cart_products.present? %>
  <div class="text-center">
    <div class="buy-block" data-turbo='false'>
      <span class="text-3xl font-bold text-gray-900 dark:text-white"> </span>
      <%= form_with url: :create_checkout_session, method: :post do |f| %>
      <%= f.hidden_field :id, value: current_user.cart.id %>
      <%= f.submit 'Order', class: "button-grey"%>
      <% end %>
    </div>
  </div>
<% end %>

<div class="p-3"></div>


